/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var __extends,__assign,__rest,__decorate,__param,__metadata,__awaiter,__generator,__exportStar,__values,__read,__spread,__spreadArrays,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault;!function(){var e=window.__fuse=window.__fuse||{},n=e.modules=e.modules||{};e.dt=function(e){return e&&e.__esModule?e:{default:e}},e.bundle=function(e,o){for(var t in e)n[t]=e[t];o&&o()},e.c={},e.r=function(o){var t=e.c[o];if(t)return t.m.exports;var r=n[o];if(!r)throw new Error("Module "+o+" was not found");return(t=e.c[o]={}).exports={},t.m={exports:t.exports},r(e.r,t.exports,t.m),t.m.exports}}(),function(e){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function o(e,o){return e!==n&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,t){return e[n]=o?o(n,t):t}}"function"==typeof define&&define.amd?define("tslib",["exports"],(function(t){e(o(n,o(t)))})):"object"==typeof module&&"object"==typeof module.exports?e(o(n,o(module.exports))):e(o(n))}((function(e){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])};__extends=function(e,o){function t(){this.constructor=e}n(e,o),e.prototype=null===o?Object.create(o):(t.prototype=o.prototype,new t)},__assign=Object.assign||function(e){for(var n,o=1,t=arguments.length;o<t;o++)for(var r in n=arguments[o])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},__rest=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(t=Object.getOwnPropertySymbols(e);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]])}return o},__decorate=function(e,n,o,t){var r,i=arguments.length,a=i<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,o):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,o,t);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(n,o,a):r(n,o))||a);return i>3&&a&&Object.defineProperty(n,o,a),a},__param=function(e,n){return function(o,t){n(o,t,e)}},__metadata=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},__awaiter=function(e,n,o,t){return new(o||(o=Promise))((function(r,i){function a(e){try{c(t.next(e))}catch(e){i(e)}}function l(e){try{c(t.throw(e))}catch(e){i(e)}}function c(e){e.done?r(e.value):new o((function(n){n(e.value)})).then(a,l)}c((t=t.apply(e,n||[])).next())}))},__generator=function(e,n){var o,t,r,i,a={label:0,ops:[],sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[]};return i={next:l(0),return:l(2),throw:l(1)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,t&&(r=2&i[0]?t.return:i[0]?t.throw||((r=t.return)&&r.call(t),0):t.next)&&!(r=r.call(t,i[1])).done)return r;switch(t=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{done:!1,value:i[1]};case 5:a.label++,t=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],t=0}finally{o=r=0}if(5&i[0])throw i[1];return{done:!0,value:i[0]?i[1]:void 0}}([i,l])}}},__exportStar=function(e,n){for(var o in e)n.hasOwnProperty(o)||(n[o]=e[o])},__values=function(e){var n="function"==typeof Symbol&&e[Symbol.iterator],o=0;return n?n.call(e):{next:function(){return e&&o>=e.length&&(e=void 0),{done:!e,value:e&&e[o++]}}}},__read=function(e,n){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var t,r,i=o.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(t=i.next()).done;)a.push(t.value)}catch(e){r={error:e}}finally{try{t&&!t.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return a},__spread=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(__read(arguments[n]));return e},__spreadArrays=function(){for(var e=0,n=0,o=arguments.length;n<o;n++)e+=arguments[n].length;var t=Array(e),r=0;for(n=0;n<o;n++)for(var i=arguments[n],a=0,l=i.length;a<l;a++,r++)t[r]=i[a];return t},__await=function(e){return this instanceof __await?(this.v=e,this):new __await(e)},__asyncGenerator=function(e,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=o.apply(e,n||[]),i=[];return t={},a("next"),a("throw"),a("return"),t[Symbol.asyncIterator]=function(){return this},t;function a(e){r[e]&&(t[e]=function(n){return new Promise((function(o,t){i.push([e,n,o,t])>1||l(e,n)}))})}function l(e,n){try{(o=r[e](n)).value instanceof __await?Promise.resolve(o.value.v).then(c,u):_(i[0][2],o)}catch(e){_(i[0][3],e)}var o}function c(e){l("next",e)}function u(e){l("throw",e)}function _(e,n){e(n),i.shift(),i.length&&l(i[0][0],i[0][1])}},__asyncDelegator=function(e){var n,o;return n={},t("next"),t("throw",(function(e){throw e})),t("return"),n[Symbol.iterator]=function(){return this},n;function t(t,r){n[t]=e[t]?function(n){return(o=!o)?{done:"return"===t,value:__await(e[t](n))}:r?r(n):n}:r}},__asyncValues=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=e[Symbol.asyncIterator];return o?o.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),n={},t("next"),t("throw"),t("return"),n[Symbol.asyncIterator]=function(){return this},n);function t(o){n[o]=e[o]&&function(n){return new Promise((function(t,r){(function(e,n,o,t){Promise.resolve(t).then((function(n){e({done:o,value:n})}),n)})(t,r,(n=e[o](n)).done,n.value)}))}}},__makeTemplateObject=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},__importStar=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n.default=e,n},__importDefault=function(e){return e&&e.__esModule?e:{default:e}},e("__extends",__extends),e("__assign",__assign),e("__rest",__rest),e("__decorate",__decorate),e("__param",__param),e("__metadata",__metadata),e("__awaiter",__awaiter),e("__generator",__generator),e("__exportStar",__exportStar),e("__values",__values),e("__read",__read),e("__spread",__spread),e("__spreadArrays",__spreadArrays),e("__await",__await),e("__asyncGenerator",__asyncGenerator),e("__asyncDelegator",__asyncDelegator),e("__asyncValues",__asyncValues),e("__makeTemplateObject",__makeTemplateObject),e("__importStar",__importStar),e("__importDefault",__importDefault)})),__fuse.bundle({1:function(e,n,o){n.__esModule=!0;var t=e(2),r=__fuse.dt(t),i=e(3),a=e(4);function l(){const e=t.useRef();return t.useEffect((()=>{const n=e.current;a.buildChart({canvas:n,theme:"light"}).source.push({epoch:0,open:3,high:9,low:1,close:7,volume:5},{epoch:1,open:7,high:10,low:2,close:4,volume:5},{epoch:0,open:3,high:9,low:1,close:7,volume:5},{epoch:1,open:7,high:10,low:2,close:4,volume:5},{epoch:0,open:3,high:9,low:1,close:7,volume:5},{epoch:1,open:7,high:10,low:2,close:4,volume:5},{epoch:0,open:3,high:9,low:1,close:7,volume:5},{epoch:1,open:7,high:10,low:2,close:4,volume:5}),console.log(e)}),[]),r.default.createElement("canvas",{ref:e})}i.render(r.default.createElement((function(){return r.default.createElement(r.default.Fragment,null,r.default.createElement("h1",null," Hello World "),r.default.createElement(l,null))}),null),document.getElementById("root"))},4:function(e,n,o){n.__esModule=!0;var t=e(8),r=e(9),i=e(10),a=e(11),l=e("regl"),c=__fuse.dt(l);n.buildChart=function({canvas:e}){const n=r.buildDataSource(),o=i.buildDataView(e.width,(()=>n.length)),l=c.default({gl:a.buildContext(e),extensions:["ANGLE_instanced_arrays","OES_vertex_array_object"]}),u=t.buildCandle(l);return l.frame((()=>{u(n,{x_origin:o.getOrigin(),x_zoom:o.getZoom(),y_min_max:[0,10]},{hollow:!1,wick:{pos_color:[0,1,0,1],neg_color:[1,0,0,1]},border:{pos_color:[0,0,0,1],neg_color:[0,0,0,1]},body:{pos_color:[0,1,0,1],neg_color:[1,0,0,1]}})})),{source:n,view:o}}},8:function(e,n,o){n.__esModule=!0;var t=e(13),r=e(14),i=e(15);n.buildCandle=function(e){const n=e(t.Wick),o=e(r.Body),a=e(i.Border);return function(t,r,i){const{bar2x:l,bar3x:c,ids:u}=t.buffers(e);n(Object.assign({theme:i.wick,bar2x:l,ids:u,count:t.length},r)),i.hollow||o(Object.assign({theme:i.body,bar3x:c,ids:u,count:t.length},r)),a(Object.assign({theme:i.border,bar2x:l,ids:u,count:t.length},r))}}},9:function(e,n,o){const t=["pop","push","concat","reverse","shift","sort","splice","unshift"];n.buildDataSource=function(){let e,n,o,r,i,a,l=[],c=new Float32Array(6),u=!0;return l.buffers=function(t){return u&&(!function(t){e=new Float32Array(2*l.length*6),o=new Float32Array(3*l.length*6);let u=Math.max(i&&i.length||100,100);if(!i||i.length<u){i=new Float32Array(2*u);for(let e=0;e<2*u;++e)i[e]=e;a=a&&a(i)||t.buffer(i)}for(let n=0;n<l.length;++n)c[0]=l[n].epoch,c[1]=l[n].open,c[2]=l[n].high,c[3]=l[n].low,c[4]=l[n].close,c[5]=l[n].volume,e.set(c,6*(2*n+0)),e.set(c,6*(2*n+1)),o.set(c,6*(3*n+0)),o.set(c,6*(3*n+1)),o.set(c,6*(3*n+2));n=n&&n(e)||t.buffer(e),r=r&&r(e)||t.buffer(o)}(t),u=!1),{ids:a,bar2x:n,bar3x:r,bar2x_cpu:e,bar3x_cpu:o}},new Proxy(l,{get:(e,n,o)=>(!u&&t.includes(n)&&(u=!0),Reflect.get(e,n,o)),set:(e,n,o,t)=>("number"==typeof n&&(u=!0),Reflect.set(e,n,o,t))})}},10:function(e,n,o){const t=(e,n,o)=>e<n?n:e>o?o:e;n.buildDataView=function(e,n){const o=window.devicePixelRatio;let r=Math.max(7*o,(n()+10)/e),i=n()-e/r+10;function a(o){i=t(i+o,5-e/r,n()-5)}return{move:a,squeeze:function(n){const i=e/r;r=t(e/(i+n/r),.5,45*o),a(e/r-i)},setWidth:function(n){const o=(e-n)/r;e=n,a(o)},getZoom:()=>r,getOrigin:()=>i}}},11:function(e,n,o){n.buildContext=function(e){e.style.width="100%",e.style.height="100%",e.style.imageRendering="pixelated";const n=window.devicePixelRatio||1,o=e.getContext("webgl",{antialias:!1});function t(){const t=e.getBoundingClientRect();e.width=Math.max(t.width,200)*n,e.height=Math.max(t.height,200)*n,o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight)}let r=null;function i(){clearTimeout(r),r=setTimeout((()=>{r=null,t()}),350)}return window.addEventListener("resize",i),e.addEventListener("webglcontextlost",(function(e){window.removeEventListener("resize",i),console.log(e)}),!1),t(),o}},13:function(e,n,o){n.__esModule=!0,n.Wick={count:(e,{count:n})=>2*n,instances:2,primitive:"lines",depth:{enable:!1},attributes:{inst_id:(e,{ids:n})=>({buffer:n,stride:4,divisor:1}),vert_id:(e,{ids:n})=>({buffer:n,stride:4,divisor:0}),ohlc:(e,{bar2x:n})=>({buffer:n,offset:4,stride:24})},uniforms:{pos_color:(e,{theme:n})=>n.pos_color,neg_color:(e,{theme:n})=>n.neg_color,resolution:e=>[e.viewportWidth,e.viewportHeight],y_min_max:(e,{y_min_max:n})=>n,x_zoom:(e,{x_zoom:n})=>n,x_origin:(e,{x_origin:n})=>n},vert:"\n    precision mediump float;\n\n    uniform vec4 pos_color;\n    uniform vec4 neg_color;\n\n    uniform vec2 resolution;\n    uniform vec2 y_min_max;\n    uniform float x_zoom;\n    uniform float x_origin;\n\n    attribute float inst_id;\n    attribute float vert_id;\n    attribute vec4 ohlc;\n\n    varying vec4 color;\n\n    void main() {\n      color = ohlc[0] <= ohlc[3] ? pos_color : neg_color;\n      int mode = int(mod(vert_id, 2.0) + 2.0 * inst_id);\n\n      float y = \n        mode == 0 ? ohlc[1] :\n        mode == 1 ? max(ohlc[0], ohlc[3]):\n        mode == 2 ? ohlc[2] :\n                    min(ohlc[0], ohlc[3]);\n      y = 2.0 * (y - y_min_max[0]) / (y_min_max[1] - y_min_max[0]) - 1.0;\n\n      float x = floor(\n        (floor(vert_id / 2.0) - x_origin + 0.5) * x_zoom + 0.5\n      );\n      x = 2.0 * x / resolution.x - 1.0;\n      gl_Position = vec4(x, y, 0, 1);\n    }",frag:"\n    precision mediump float;\n    varying vec4 color;\n    void main() {\n      gl_FragColor = color;\n    }"}},14:function(e,n,o){n.__esModule=!0,n.Body={count:(e,{count:n})=>3*n,instances:2,primitive:"triangles",depth:{enable:!1},attributes:{inst_id:(e,{ids:n})=>({buffer:n,stride:4,divisor:1}),vert_id:(e,{ids:n})=>({buffer:n,offset:0,stride:4,divisor:0}),ohlc:(e,{bar3x:n})=>({buffer:n,offset:4,stride:24})},uniforms:{pos_color:(e,{theme:n})=>n.pos_color,neg_color:(e,{theme:n})=>n.neg_color,resolution:e=>[e.viewportWidth,e.viewportHeight],y_min_max:(e,{y_min_max:n})=>n,x_zoom:(e,{x_zoom:n})=>n,x_origin:(e,{x_origin:n})=>n},vert:"\n    precision mediump float;\n\n    uniform vec4 pos_color;\n    uniform vec4 neg_color;\n\n    uniform vec2 resolution;\n    uniform vec2 y_min_max;\n    uniform float x_zoom;\n    uniform float x_origin;\n\n    attribute float inst_id;\n    attribute float vert_id;\n    attribute vec4 ohlc;\n\n    varying vec4 color;\n\n    void main() {\n      color = ohlc[0] <= ohlc[3] ? pos_color : neg_color;\n\n      int vid = int(mod(vert_id, 3.0));\n      int iid = int(mod(inst_id, 2.0));\n\n      float y = (iid == 0 && vid != 1) || (iid == 1 && vid == 0)\n                ? ohlc[0] : ohlc[3];\n      y = 2.0 * (y - y_min_max[0]) / (y_min_max[1] - y_min_max[0]) - 1.0;\n\n      float halved = x_zoom >= 3.0 ? floor((x_zoom - 2.0) / 3.0) + 1.0 : 0.0;\n\n      float x = floor(\n        (floor(vert_id / 3.0) - x_origin + 0.5) * x_zoom + 0.5\n      );\n\n      x += (iid == 0 && vid == 0) || (iid == 1 && vid != 2)\n           ? -halved - 1.0: +halved;\n\n      x = 2.0 * x / resolution.x - 1.0;\n\n      gl_Position = vec4(x, y, 0, 1);\n    }",frag:"\n    precision mediump float;\n    varying vec4 color;\n    void main() {\n      gl_FragColor = color;\n    }"}},15:function(e,n,o){n.__esModule=!0,n.Border={count:(e,{count:n})=>2*n,instances:4,primitive:"lines",depth:{enable:!1},attributes:{inst_id:(e,{ids:n})=>({buffer:n,stride:4,divisor:1}),vert_id:(e,{ids:n})=>({buffer:n,offset:0,stride:4,divisor:0}),ohlc:(e,{bar2x:n})=>({buffer:n,offset:4,stride:24})},uniforms:{pos_color:(e,{theme:n})=>n.pos_color,neg_color:(e,{theme:n})=>n.neg_color,resolution:e=>[e.viewportWidth,e.viewportHeight],y_min_max:(e,{y_min_max:n})=>n,x_zoom:(e,{x_zoom:n})=>n,x_origin:(e,{x_origin:n})=>n},vert:"\n    precision mediump float;\n\n    uniform vec4 pos_color;\n    uniform vec4 neg_color;\n\n    uniform vec2 resolution;\n    uniform vec2 y_min_max;\n    uniform float x_zoom;\n    uniform float x_origin;\n\n    attribute float inst_id;\n    attribute float vert_id;\n    attribute vec4 ohlc;\n\n    varying vec4 color;\n\n    void main() {\n      color = ohlc[0] <= ohlc[3] ? pos_color : neg_color;\n\n      int vid = int(mod(vert_id, 2.0));\n      int iid = int(mod(inst_id, 4.0));\n\n      float y =\n        iid == 0 ? ohlc[0]:\n        iid == 2 ? ohlc[3]:\n        vid == 0 ? ohlc[0]:\n                   ohlc[3];\n      y = 2.0 * (y - y_min_max[0]) / (y_min_max[1] - y_min_max[0]) - 1.0;\n\n      float halved = x_zoom >= 3.0 ? floor((x_zoom - 2.0) / 3.0) + 1.0 : 0.0;\n\n      float x = floor(\n        (floor(vert_id / 2.0) - x_origin + 0.5) * x_zoom + 0.5\n      );\n      x +=\n        iid == 3 ? -halved:\n        iid == 1 ? +halved:\n        vid == 0 ? -halved - 1.0:\n                   +halved;\n\n      x = 2.0 * x / resolution.x - 1.0;\n\n      gl_Position = vec4(x, y, 0., 1.);\n    }",frag:"\n    precision mediump float;\n    varying vec4 color;\n    void main() {\n      gl_FragColor = color;\n    }"}}});