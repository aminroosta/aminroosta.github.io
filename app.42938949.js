/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var __extends,__assign,__rest,__decorate,__param,__metadata,__awaiter,__generator,__exportStar,__values,__read,__spread,__spreadArrays,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault;!function(){var e=window.__fuse=window.__fuse||{},t=e.modules=e.modules||{};e.dt=function(e){return e&&e.__esModule?e:{default:e}};var o={b:{2:{p:"/dynamic/btc1h.2537b1a9.js"}}};e.bundle=function(e,o){for(var i in e)t[i]=e[i];o&&o()},e.c={},e.r=function(i){var n=e.c[i];if(n)return n.m.exports;var r=t[i];if(!r){var s=o.b[i];if(s)return function(o,i){return new Promise((function(n,r){if(i.fns)i.fns.push(n);else{function s(){var n=document.createElement("script");document.head.appendChild(n),n.onload=function(){t[o]?i.fns.map((function(t){return t(e.r(o))})):r("Resolve error of module "+o+" at path "+i.p),i.fns=void 0},n.src=i.p}if(i.fns=[n],i.s){var a=document.createElement("link");a.rel="stylesheet",a.onload=s,a.href=i.s,document.head.appendChild(a)}else s()}}))}(i,s);throw new Error("Module "+i+" was not found")}return(n=e.c[i]={}).exports={},n.m={exports:n.exports},r(e.r,n.exports,n.m),n.m.exports}}(),function(e){var t="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function o(e,o){return e!==t&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(t,i){return e[t]=o?o(t,i):i}}"function"==typeof define&&define.amd?define("tslib",["exports"],(function(i){e(o(t,o(i)))})):"object"==typeof module&&"object"==typeof module.exports?e(o(t,o(module.exports))):e(o(t))}((function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};__extends=function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)},__assign=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},__rest=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(o[i[n]]=e[i[n]])}return o},__decorate=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},__param=function(e,t){return function(o,i){t(o,i,e)}},__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=function(e,t,o,i){return new(o||(o=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?n(e.value):new o((function(t){t(e.value)})).then(s,a)}l((i=i.apply(e,t||[])).next())}))},__generator=function(e,t){var o,i,n,r,s={label:0,ops:[],sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[]};return r={next:a(0),return:a(2),throw:a(1)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{done:!1,value:r[1]};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{done:!0,value:r[0]?r[1]:void 0}}([r,a])}}},__exportStar=function(e,t){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])},__values=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],o=0;return t?t.call(e):{next:function(){return e&&o>=e.length&&(e=void 0),{done:!e,value:e&&e[o++]}}}},__read=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},__spread=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e},__spreadArrays=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,n++)i[n]=r[s];return i},__await=function(e){return this instanceof __await?(this.v=e,this):new __await(e)},__asyncGenerator=function(e,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=o.apply(e,t||[]),r=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){n[e]&&(i[e]=function(t){return new Promise((function(o,i){r.push([e,t,o,i])>1||a(e,t)}))})}function a(e,t){try{(o=n[e](t)).value instanceof __await?Promise.resolve(o.value.v).then(l,h):c(r[0][2],o)}catch(e){c(r[0][3],e)}var o}function l(e){a("next",e)}function h(e){a("throw",e)}function c(e,t){e(t),r.shift(),r.length&&a(r[0][0],r[0][1])}},__asyncDelegator=function(e){var t,o;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,n){t[i]=e[i]?function(t){return(o=!o)?{done:"return"===i,value:__await(e[i](t))}:n?n(t):t}:n}},__asyncValues=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,o=e[Symbol.asyncIterator];return o?o.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(t){return new Promise((function(i,n){(function(e,t,o,i){Promise.resolve(i).then((function(t){e({done:o,value:t})}),t)})(i,n,(t=e[o](t)).done,t.value)}))}}},__makeTemplateObject=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t},__importDefault=function(e){return e&&e.__esModule?e:{default:e}},e("__extends",__extends),e("__assign",__assign),e("__rest",__rest),e("__decorate",__decorate),e("__param",__param),e("__metadata",__metadata),e("__awaiter",__awaiter),e("__generator",__generator),e("__exportStar",__exportStar),e("__values",__values),e("__read",__read),e("__spread",__spread),e("__spreadArrays",__spreadArrays),e("__await",__await),e("__asyncGenerator",__asyncGenerator),e("__asyncDelegator",__asyncDelegator),e("__asyncValues",__asyncValues),e("__makeTemplateObject",__makeTemplateObject),e("__importStar",__importStar),e("__importDefault",__importDefault)})),__fuse.bundle({1:function(e,t,o){t.__esModule=!0;var i=e(3),n=__fuse.dt(i),r=e(4),s=e(5);function a(){const t=i.useRef();return i.useEffect((()=>{const o=t.current,i=new s.GChart({element:o,theme:"light"});Promise.resolve().then((()=>e(2))).then((e=>e.map((e=>({volume:+e.volume,epoch:+e.epoch,open:+e.open,high:+e.high,low:+e.low,close:+e.close}))))).then((e=>{let t=e.map((e=>Object.assign(Object.assign({},e),{open:e.open/1,high:e.high/1,low:e.low/1,close:e.close/1})));t.reverse(),i.source.setData(t),i.view.move(t.length),setInterval((()=>{const e=i.source.getData();e.length&&(e[e.length-1].open+=Math.random()>.5?.02:-.02,i.source.setData(e))}),1e3)})),window.chart=i}),[]),n.default.createElement("div",{id:"gchart",style:{height:"90%"},ref:t})}r.render(n.default.createElement((function(){return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{style:{fontSize:"16px"}},"msft intraday v"),n.default.createElement(a,null))}),null),document.getElementById("root"))},5:function(e,t,o){t.__esModule=!0;var i=e(9),n=e(10),r=e(11),s=e(12),a=e(13),l=e(14),h=e(15),c=e(16),u=e(17),d=e(18),f=e(19),m=e(20),g=e(21),p=e(8),v=e(22),_=e(23),y=e(8);t.Theme=y.Theme,t.LightTheme=y.LightTheme,t.DarkTheme=y.DarkTheme;t.GChart=class{applyTheme(e){_.merge(this.theme,e),this.divider.applyTheme(this.theme.divider),this.crosshair.applyTheme(this.theme.crosshair),this.xaxis.applyTheme(this.theme.axis),this.revision+=1}constructor({element:e,theme:t="light"}){this.revision=-1,this.element=e,this.theme="dark"===t?p.DarkTheme:p.LightTheme,this.series=[],this.layout=new n.Layout({parent:this.element});const{gl:o,frame:_}=i.buildGL(this.layout.chart_el,(()=>{}));this.overlay=new v.Overlay({canvas:this.layout.overlay_el}),this.source=r.buildDataSource(),this.view=s.buildDataView(300,this.source.getBarCount),this.divider=new c.Divider({root:this.layout.divider_el,parent:this.layout.parent,sizes:[85,15],dir:"vertical"});const y=l.timeParser({timezone:0,getRevision:()=>this.source.getRevision(),getBars:()=>this.source.getData()}),x=new g.LabelLines({timeParser:y});this.crosshair=x.createLine(),this.xaxis=new u.XAxis({root:this.layout.bottom_el,timeParser:y});const w=u.buildYAxis({root:this.layout.right_el}),b=d.buildMenu({root:this.layout.menu_el,parent:this.layout.parent});this.input=new a.UserInputTracker({view:this.view,element:this.layout.divider_el,crosshair:this.crosshair});const z=m.buildVolume({gl:o}),M=h.Grid(o,{});let A=this.divider.viewport("root");this.view.setWidth(A.width),this.divider.on("root-resize",(()=>{A=this.divider.viewport("root"),this.view.setWidth(A.width)}));let C=[0,0];const T={origin:0,zoom:0,width:0,sourceRev:0,dividerRev:0,chartRev:0};_((()=>{const e=this.view.getOrigin(),t=this.view.getZoom(),o=this.view.getWidth();if(this.overlay.clear(),x.draw({viewport:A,ctx:this.overlay.ctx,aperture:{origin:e,width:o,zoom:t},y_min_max:C}),e!==T.origin||t!==T.zoom||o!==T.width||this.source.getRevision()!==T.sourceRev||this.divider.getRevision()!==T.dividerRev||this.revision!==T.chartRev){T.origin=e,T.zoom=t,T.width=o,T.sourceRev=this.source.getRevision(),T.dividerRev=this.divider.getRevision(),T.chartRev=this.revision,C=this.source.yMinMax({origin:e,zoom:t,width:o});const{xs:i}=this.xaxis.draw({origin:e,width:o,zoom:t});M.draw({xs:i,viewport:A});{const o=this.divider.viewport(1);z.draw({viewport:o,source:this.source,zoom:t,origin:e})}this.series.forEach(((o,i)=>{const n=this.divider.viewport(i),r=b.getScale(),{ys:s}=w.draw({viewport:n,y_min_max:C,yscale:r});M.draw({ys:s,viewport:n}),o.draw({zoom:t,origin:e,viewport:n,y_min_max:C,yscale:r,source:this.source})}))}}));const S=f.buildCandle({gl:o});this.series.push(S),this.applyTheme({})}}},8:function(e,t,o){t.__esModule=!0,t.GridLight={color:"#f3f3f4"},t.GridDark={color:"#f3f3f4"},t.CandleLight={hollow:!1,border:{posColor:"#26a69a",negColor:"#ef5350"},body:{posColor:"#26a69a",negColor:"#ef5350"},wick:{posColor:"#26a69a",negColor:"#ef5350"}},t.CandleDark={hollow:!1,border:{posColor:"#26a69a",negColor:"#ef5350"},body:{posColor:"#26a69a",negColor:"#ef5350"},wick:{posColor:"#26a69a",negColor:"#ef5350"}},t.AxisLight={color:"#000",bgColor:"transparent",borderColor:"#e1e1e3",fontSize:14,fontFamily:"serif",fontStyle:"normal"},t.AxisDark=t.AxisLight,t.DividerLight={bgColor:"#0000cc05"},t.DividerDark=t.DividerLight,t.LineLabelLight={line:{color:"#758696",style:"dashed"},label:{color:"#ffffff",bgColor:"#000000",style:"box",fontFamily:"serif",fontSize:14,fontStyle:"normal"}},t.LineLabelDark=t.LineLabelLight,t.VolumeLight={posColor:"#92d2cc",negColor:"#f7a8a7"},t.LightTheme={candle:t.CandleLight,axis:t.AxisLight,crosshair:t.LineLabelLight,volume:t.VolumeLight,divider:t.DividerLight},t.DarkTheme={candle:t.CandleDark,axis:t.AxisDark,crosshair:t.LineLabelDark,volume:t.VolumeLight,divider:t.DividerDark}},9:function(e,t,o){t.__esModule=!0;var i=e(25);t.buildGL=function(e,t){const o=window.devicePixelRatio,n=(0|o)===o?"pixelated":"auto";e.style.imageRendering=n;const r=e.parentElement;function s(){let o=window.innerWidth,i=window.innerHeight;if(r!==document.body){let e=r.getBoundingClientRect();o=e.width,i=e.height}e.width=o,e.height=i,Object.assign(e.style,{width:o+"px",height:i+"px"}),t&&t(o,i)}return i.resizeObserve(r,s),s(),{gl:e.getContext("webgl",{antialias:!1,stencil:!1,depth:!1}),frame:function(e){requestAnimationFrame((function t(){requestAnimationFrame(t),e()}))}}}},10:function(e,t,o){t.Layout=class{constructor({parent:e}){this.parent=e,this.parent.style.cssText+="position: relative; margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; user-select:none;",this.parent.innerHTML=i;const t=e=>this.parent.querySelector(e);this.divider_el=t(".g-divider"),this.bottom_el=t(".g-bottom"),this.right_el=t(".g-right"),this.left_el=t(".g-left"),this.menu_el=t(".g-menu"),this.overlay_el=t(".g-overlay"),this.chart_el=t(".g-chart")}};const i='\n<canvas class="g-chart" style="z-index: -1; position: absolute; top: 0px; left: 0px; border: 0px; margin: 0px; padding: 0px; display: block;"></canvas>\n<table style="height: 100%; width: 100%; border-collapse: collapse; table-layout: fixed;">\n    <tbody>\n    <tr>\n      <td class="g-left" style="padding:0; background:GhostWhite;"></td>\n      <td style="width:100%; height:100%; padding:0; box-sizing:border-box; position: relative">\n        <div class="g-divider"></div>\n      </td>\n      <td class="g-right" style="padding:0; box-sizing:border-box;"></td>\n    </tr>\n    <tr>\n      <td></td>\n      <td class="g-bottom" style="padding:0; box-sizing:border-box;"></td>\n      <td class="g-menu"></td>\n    </tr>\n  </tbody>\n</table>\n<canvas class="g-overlay" style="pointer-events: none; inset: 0px; display: block; position: absolute; background: transparent;"></canvas>\n'},11:function(e,t,o){t.buildDataSource=function(){let e=[],t=1,o="",i=[0,0];return{getRevision:()=>t,getBarCount:()=>e.length,getData:()=>e,yMinMax:function({origin:n,zoom:r,width:s}){if(!e.length)return[0,0];const a=[n,r,s,t].join("#");if(o===a)return i;o=a;let l=0,h=0;if(e.length<=3)l=Math.min(...e.map((e=>e.low))),h=Math.max(...e.map((e=>e.high)));else{const t=Math.floor(n),o=Math.ceil(n+s/r),i=e.slice(Math.max(t,0),o);l=Math.min(...i.map((e=>e.low))),h=Math.max(...i.map((e=>e.high)));let a=Math.max(n-t,0),c=e[Math.max(t-1,0)];c.low<l&&(l=l*a+c.low*(1-a)),c.high>h&&(h=h*a+c.high*(1-a)),a=Math.max(o-n-s/r,0);let u=e[Math.min(o,e.length-1)];u.low<l&&(l=l*a+u.low*(1-a)),u.high>h&&(h=h*a+u.high*(1-a))}return i=[l,h]},setData(o){t+=1,e=o}}}},12:function(e,t,o){const i=(e,t,o)=>e<t?t:e>o?o:e;t.buildDataView=function(e,t){let o=Math.max(9,(t()+10)/e),n=Math.max(0,t()-e/o+10);function r(r){n=i(n+r,5-e/o,t()-5)}let s,a=0;return{moveVelocity(e){s=+new Date,a=e},move:r,squeeze:function(t,n=e){const s=e/o;o=i(e/(s+t/o),1,60);let a=e/o-s;a*=n/e,r(-a)},setWidth:function(t){if(t==e)return;const i=(e-t)/o;e=t,r(i)},getWidth:()=>e,getZoom:()=>o,getOrigin:function(){if(a){const e=+new Date;let t=a*(e-s)/o;Math.abs(t)>=.1&&r(-t),a*=.97,s=e}return n}}}},13:function(e,t,o){function i(e,t){const o=e.x-t.x,i=e.y-t.y;return Math.sqrt(o*o+i*i)}t.UserInputTracker=class{constructor({view:e,element:t,crosshair:o}){this.wheel=e=>{e.preventDefault(),this.view.squeeze(e.deltaY),this.view.move(e.deltaX/this.view.getZoom())},this.keydown=e=>{const t={ArrowLeft:()=>this.view.move(-1),ArrowRight:()=>this.view.move(1)}[e.key];t&&t()},this.trecord=e=>{const t=e.touches,o=+new Date;this.one={x:t[0].pageX,y:t[0].pageY,t:o},t[1]&&(this.two={x:t[1].pageX,y:t[1].pageY,t:o})},this.tmove=e=>{if(e.preventDefault(),1===e.touches.length){const t=this.one.x-e.touches[0].pageX;this.view.move(t/this.view.getZoom()),this.trecord(e),this.history.push(this.one)}else{if(2==e.touches.length){let t=i(this.one,this.two);this.trecord(e),t-=i(this.one,this.two),this.view.squeeze(t,(this.one.x+this.two.x)/2)}this.history=[]}},this.tstart=e=>{e.preventDefault(),this.trecord(e),this.history=[this.one]},this.tend=e=>{if(e.preventDefault(),e.touches.length>0)return this.trecord(e);const t=history.length;if(t>=3){const e=this.history[0],o=this.history[t-2],i=this.history[t-1],n=(i.x-o.x)/(i.t-o.t),r=(o.x-e.x)/(o.t-e.t);r>1||n>1?this.view.moveVelocity(1.5*Math.max(n,r)):(r<-1||n<-1)&&this.view.moveVelocity(1.5*Math.min(n,r))}this.history=[]},this.updateLines=({x:e,y:t})=>{if(!this.is_mouse_inside)return void(this.crosshair.x=this.crosshair.y=-1);let o=this.element.getBoundingClientRect();const i=this.view.getOrigin(),n=this.view.getZoom();this.crosshair.y=t-o.top+1;const r=Math.ceil(i)-i;e=n*(r+Math.floor(e/n-r)+.5),e=Math.floor(e-.5),this.crosshair.x=e-o.left},this.mousemove=e=>{if(this.is_mouse_down){const t=this.mouse.x-e.pageX;this.view.move(t/this.view.getZoom())}this.mouse={x:e.pageX,y:e.pageY,t:+new Date},this.is_mouse_inside=!0,this.updateLines(this.mouse),this.is_mouse_down&&(this.historyMouse.push(this.mouse),this.historyMouse.length>2&&this.historyMouse.shift())},this.mouseleave=e=>{this.is_mouse_inside=!1,this.updateLines(this.mouse)},this.mousedown=e=>{this.mouse={x:e.pageX,y:e.pageY,t:+new Date},this.is_mouse_down=!0,this.updateLines(this.mouse),this.element.style.cursor="grabbing"},this.mouseup=e=>{if(this.is_mouse_down=!1,this.element.style.cursor="crosshair",2==this.historyMouse.length){const e=(this.historyMouse[1].x-this.historyMouse[0].x)/(this.historyMouse[1].t-this.historyMouse[0].t);this.view.moveVelocity(e)}this.historyMouse=[]},this.view=e,this.element=t,this.history=[],this.crosshair=o,this.mouse={x:0,y:0,t:0},this.historyMouse=[],this.is_mouse_down=!1,this.is_mouse_inside=!1,t.addEventListener("wheel",this.wheel,{passive:!1}),window.addEventListener("keydown",this.keydown),t.addEventListener("touchstart",this.tstart,!1),t.addEventListener("touchmove",this.tmove,!1),t.addEventListener("touchend",this.tend,!1),t.addEventListener("mousedown",this.mousedown,!1),t.addEventListener("mouseup",this.mouseup,!1),t.addEventListener("mousemove",this.mousemove,!1),t.addEventListener("mouseleave",this.mouseleave,!1),t.addEventListener("mouseenter",this.mousemove,!1)}cleanup(){this.element.removeEventListener("wheel",this.wheel),window.removeEventListener("keydown",this.keydown)}}},14:function(e,t,o){const i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n={};t.timeParser=function({timezone:e,getBars:t,getRevision:o}){function r(t,o){const i=t+o;return n[i]||(n[i]=function(t,o){const i=new Date(1e3*t-1e3*e),n=new Date(1e3*o-1e3*e);if(i.getUTCFullYear()!==n.getUTCFullYear())return 31536e3;if(i.getUTCMonth()!==n.getUTCMonth())return 2592e3;if(i.getUTCDate()!==n.getUTCDate())return 86400;const r=i.getUTCHours(),s=i.getUTCMinutes(),a=i.getUTCSeconds();if(0===a&&0===s)return 0==r?86400:r%6==0?21600:r%3==0?10800:3600;let l=a?1:60;const h=a||s;return 30===h?30*l:h%15==0?15*l:h%10==0?10*l:h%5==0?5*l:h%5==2?2*l:l}(t,o)),n[i]}function s(t,o){const n=new Date(1e3*t-1e3*e);if(-1===o)return"";if(o>=31536e3)return""+n.getUTCFullYear();if(o>=2592e3)return i[n.getUTCMonth()];if(o>=86400)return""+n.getUTCDate();const r=n.getUTCHours(),s=(r<10?"0":"")+r;if(o>=3600)return s+":00";const a=n.getUTCMinutes(),l=(a<10?"0":"")+a;if(o>=60)return s+":"+l;const h=n.getUTCSeconds();return s+":"+l+":"+((h<10?"0":"")+h)}let a=[],l=[],h=new Int32Array(0),c=new Int32Array(0),u=-1,d=-1;return{getLabels:function({zoom:e,origin:i,width:n,fontsize:f}){const m=t();o()!==d&&(d=o(),function(e){if(!e.length)return void(a=l=[]);a=e.map((e=>e.epoch));let t=a[0]-1,o=t;l=a.map((e=>{let i=r(e,t);return o=t,t=e,i}));const i=t-o;for(let e=0;e<240;++e)l.push(r(t+i,t)),a.push(t+=i)}(m),u=-1);const g=Math.ceil(5*f/e);e!=u&&(u=e,function(e){h.length<a.length?(h=new Int32Array(a.length),c=new Int32Array(a.length)):(h.fill(0),c.fill(0));const t=l.length;for(let o=0;o<t;++o){let i=l[o];for(let n=e;n<=2*e&&o+n<t;++n)h[o+n]<h[o]+i&&(h[o+n]=h[o]+i,c[o+n]=o)}}(g));let p=Math.min(Math.ceil(i+n/e)+4*g,m.length+4*g,l.length-1);const v=[];for(;p;){p=c[p];const t=(p-i+.5)*e;p&&t>-g&&t<n+g&&v.push({rank:l[p],text:s(a[p],l[p]),x:Math.floor((p-i+.5)*e+.5)})}return v},rank:r,label:s,labelForIdx:function(e){const o=t();return e>=Math.min(o.length+4,a.length)||e<0?"":s(a[e],l[e])}}}},15:function(e,t,o){t.__esModule=!0;var i=e(28),n=e(29),r=e(8);t.Grid=function(e,{theme:t=r.GridLight}){const o=n.buildTheme(t),a=i.buffer(e,e.DYNAMIC_DRAW),l=i.program(e,s);return{draw:function({xs:e,ys:t,viewport:i}){const{width:n,height:r}=i,s=o.rgba();let h=a.cpu(4*Math.max(e&&e.length||0,t&&t.length||0));e&&(e.forEach(((e,t)=>{h[t*=4]=e,h[t+1]=0,h[t+2]=e,h[t+3]=r})),a.data(h),l.render({viewport:i,theme:s,count:2*e.length,buffer:a.gpu})),t&&(t.forEach(((e,t)=>{h[t*=4]=0,h[t+1]=e,h[t+2]=n,h[t+3]=e})),a.data(h),l.render({viewport:i,theme:s,count:2*t.length,buffer:a.gpu}))},theme:o}};const s={count:({count:e})=>e,offset:()=>0,primitive:"lines",viewport:({viewport:e})=>e,attributes:{pos:({buffer:e})=>({buffer:e,size:2,stride:8})},uniforms:{color:({theme:e})=>e.color,resolution:({viewport:e})=>[e.width,e.height]},vert:"\n  precision highp float;\n  uniform vec2 resolution;\n  attribute vec2 pos;\n  void main() {\n    gl_Position = vec4(2.0 * pos / resolution - 1.0, 0., 1.);\n  }",frag:"\n  precision mediump float;\n  uniform vec4 color;\n  void main() {\n    gl_FragColor = color;\n  }"}},16:function(e,t,o){t.__esModule=!0;var i=e(30),n=__fuse.dt(i),r=e(8),s=e(25),a=e(31),l=e(29);class h extends a.EventSource{applyTheme(e){l.merge(this.theme,e),this.root.style.setProperty("--gdivider-bg",this.theme.bgColor)}constructor(e){super(),this.parent=e.parent,this.root=e.root,this.sizes=this.scale(e.sizes),this.dir=e.dir,this.revision=-1,this.viewport_cache={},this.theme=r.DividerLight,function(){if(c)return;const e=document.createElement("style");e.innerHTML="\n    .gutter {\n      position:relative;\n      background: transparent;\n    }\n    .gutter:before {\n      content: \"\";\n      position: absolute;\n      background-repeat: no-repeat;\n      background-position: 50%;\n      background-color: var(--gdivider-bg);\n    }\n    .gutter.gutter-horizontal:before {\n      top: 0; bottom: 0; left: 40%; right: 40%;\n    }\n    .gutter.gutter-vertical:before {\n      left: 0; right: 0; top: 40%; bottom: 40%;\n      background-size: 30px 100%;\n      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFAQMAAABo7865AAAABlBMVEVHcEzMzMzyAv2sAAAAAXRSTlMAQObYZgAAABBJREFUeF5jOAMEEAIEEFwAn3kMwcB6I2AAAAAASUVORK5CYII=');\n    }\n    .gutter.gutter-horizontal {\n      cursor: col-resize;\n      transform: scale(5, 1);\n     }\n    .gutter.gutter-vertical {\n      cursor: row-resize;\n      transform: scale(1, 5);\n    }\n  ",document.head.appendChild(e),c=!0}(),s.resizeObserve(this.root,(()=>{this.viewport_cache={},this.revision+=1,this.dispatch("root-resize")}));const t="horizontal"==this.dir?"row":"column";this.root.style.cssText+=[`display: flex; flex-direction: ${t};`,"height: 100%; flex-grow: 1; cursor: crosshair;"].join(""),this.recreate_split()}recreate_split(){this.split&&this.split.destroy(),this.nodes=this.sizes.map((()=>document.createElement("div"))),this.root.innerHTML="",this.nodes.forEach((e=>this.root.appendChild(e)));const e=window&&window.devicePixelRatio||1;this.split=n.default(this.root.children,{sizes:this.sizes,gutterSize:3,direction:this.dir,minSize:15*e,onDrag:e=>{const t=this.sizes.reduce(((e,t)=>e+t),0);this.sizes=e.map((e=>e*t/100)),this.viewport_cache={},this.revision+=1},elementStyle:(e,t,o)=>({"flex-basis":this.sizes.length>1?`calc(${t}% - ${o}pt)`:"100%"}),gutterStyle:(e,t)=>({"flex-basis":`${t}pt`})})}scale(e){const t=e.reduce(((e,t)=>e+t),0);return e.map((e=>100*e/t))}setSizes(e){e.length===this.sizes.length?(this.sizes=this.scale(e),this.split.setSizes(this.sizes)):(this.sizes=this.scale(e),this.recreate_split()),this.viewport_cache={},this.revision+=1}viewport(e){const t=e+"";if(this.viewport_cache[t])return this.viewport_cache[t];const o=this.parent.getBoundingClientRect(),i=("root"===e?this.root:this.nodes[e]).getBoundingClientRect();return this.revision+=1,this.viewport_cache[t]={width:i.width,height:i.height,x:i.left-o.left,y:o.bottom-i.bottom}}getRevision(){return this.revision}}t.Divider=h;let c=!1},17:function(e,t,o){t.__esModule=!0;var i=e(25),n=e(8),r=e(23);const s=window&&window.devicePixelRatio||1;class a{constructor({root:e,dir:t,theme:o}){this.theme=o,this.root=e,this.dir=t,this.root.innerHTML='\n    <div style="height: 100%; overflow: hidden; position: relative;">\n      <canvas\n        style="display: block; background: var(--gaxis-bg); position: absolute;">\n      </canvas>\n    </div>',this.canvas=this.root.querySelector("canvas"),this.width="horizontal"===this.dir?"width":"height",this.height="horizontal"===this.dir?"height":"width",this.textAlign="horizontal"===this.dir?"center":"left",this.setDimention(2*this.theme.fontSize),this.ctx=this.canvas.getContext("2d"),this.ctx.imageSmoothingEnabled=!1,this.cleanup=i.resizeObserve(e,this.resize.bind(this))}fontSize(){return this.theme.fontSize}font(e){const t=this.theme;return`${e||t.fontStyle} ${t.fontSize*s}px ${t.fontFamily}`}applyTheme(e){r.merge(this.theme,e),this.root.style.setProperty("--gaxis-bg",this.theme.bgColor),this.root.style.setProperty("--gaxis-border-color",this.theme.borderColor)}getDimention(){return this.dimention}setDimention(e){this.dimention=e*s,this.canvas[this.height]=e*s,this.canvas.style[this.height]=`${e}px`,this.root.style[this.height]=`${e}px`}resize(){const e=this.root.getBoundingClientRect(),t=Math.floor(e[this.width]);this.canvas.style[this.width]=`${t}px`,this.canvas[this.width]=t*s,this.ctx.font=this.font(),this.ctx.textBaseline="middle",this.ctx.textAlign=this.textAlign,this.ctx.fillStyle=this.theme.color,this.ctx.strokeStyle=this.theme.borderColor,this.ctx.lineWidth=s}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}drawText(e,t){if("horizontal"===this.dir)for(let o=0;o<e.length;++o)this.ctx.fillText(e[o],t[o]*s,this.dimention/2);else{for(let o=0;o<e.length;++o){const i=t[o]*s+s/2,n=this.theme.fontSize*s;this.ctx.fillText(e[o],n,i),this.ctx.moveTo(0,i),this.ctx.lineTo(n/3,i)}this.ctx.stroke()}}}t.XAxis=class extends a{constructor({root:e,timeParser:t,theme:o=n.AxisLight}){super({root:e,dir:"horizontal",theme:o}),this.root.style.cssText+="border-width: 1px; border-color: var(--gaxis-border-color); border-style: solid none;",this.timeParser=t}draw({origin:e,width:t,zoom:o}){const i=this.timeParser.getLabels({origin:e,zoom:o,width:t,fontsize:this.fontSize()}),n=Math.max(...i.map((e=>e.rank))),r=Math.min(...i.map((e=>e.rank)));if(this.clear(),n!=r){const e=i.filter((e=>e.rank!==n)),t=i.filter((e=>e.rank===n));this.ctx.save(),this.ctx.font=this.font("normal"),super.drawText(e.map((e=>e.text)),e.map((e=>e.x))),this.ctx.font=this.font("bold"),super.drawText(t.map((e=>e.text)),t.map((e=>e.x))),this.ctx.restore()}else super.drawText(i.map((e=>e.text)),i.map((e=>e.x)));return{xs:i.map((e=>e.x))}}},t.buildXAxis=function({root:e,timeParser:t,theme:o=n.AxisLight}){const i=new a({root:e,dir:"horizontal",theme:o});e.style.cssText+=`border: 1px ${o.borderColor}; border-style: solid none;`;const r=i.ctx;return{draw:function({origin:e,width:o,zoom:n}){const s=t.getLabels({origin:e,zoom:n,width:o,fontsize:i.fontSize()}),a=Math.max(...s.map((e=>e.rank))),l=Math.min(...s.map((e=>e.rank)));if(i.clear(),a!=l){const e=s.filter((e=>e.rank!==a)),t=s.filter((e=>e.rank===a));r.save(),r.font=i.font("normal"),i.drawText(e.map((e=>e.text)),e.map((e=>e.x))),r.font=i.font("bold"),i.drawText(t.map((e=>e.text)),t.map((e=>e.x))),r.restore()}else i.drawText(s.map((e=>e.text)),s.map((e=>e.x)));return{xs:s.map((e=>e.x))}}}},t.buildYAxis=function({root:e,theme:t=n.AxisLight}){const o=new a({root:e,dir:"vertical",theme:t});return e.style.cssText+=`box-sizing:border-box; border-left: 1px solid ${t.borderColor}`,{draw:function({viewport:e,y_min_max:t,yscale:i}){const n=o.fontSize(),{height:r}=e,a=[],l=[];let h=e=>e,c=e=>e,[u,d]=t,f=d-u,m=0;"log"===i?(c=e=>Math.log10(e),u=c(u),d=c(d),f=d-u,m=function(e,t){let o=e*t;const i=Math.pow(10,Math.floor(Math.log10(o)));return o-o%i}(f,4*n/r),h=e=>{let t=Math.pow(10,e+m/20);e=Math.pow(10,e);return e-=e%Math.pow(10,Math.ceil(Math.log10(t-e)))}):(m=function(e,t){let o=e*t;const i=Math.pow(10,Math.floor(Math.log10(o))),n=(o-i)/i;return o=i*(n<1?1:n<1.5?2:n<3?2.5:n<4?4:5),o}(f,6*n/r),m=Math.max(m,Math.pow(10,-2)));let g=Math.ceil(d/m)*m;for(;g-m>u;){g-=m;const e=h(g);g=c(e);const t=Math.floor(r*(g-u)/f);l.push(t),a.push(e.toFixed(2))}const p=2*n+o.ctx.measureText(a[a.length-1]||"").width/s;return p>o.getDimention()&&o.setDimention(p),o.clear(),o.drawText(a,l.map((e=>r-e))),{ys:l}}}}},18:function(e,t,o){t.__esModule=!0;var i=e(8),n=e(32),r=e(33),s=__fuse.dt(r);const a=(e,t)=>(e.open=!1,Object.assign({},e)),l=(e,t)=>(t.stopPropagation(),e.open=!e.open,Object.assign({},e)),h=(e,t)=>(e.scale=t,Object.assign({},e));function c(){return s.default`
  <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
    style=${{display:"block"}}
  >
    <path fill="currentColor" d="M10.2 16.3L6 12.1l1.4-1.4 2.8 2.8L16 7.8l1.4 1.4-7 7.1z" />
  </svg>`}t.buildMenu=function({root:e,parent:t,theme:o=i.AxisLight}){let r={open:!1,scale:"regular"};const u=n.app({init:r,view:({open:e,scale:t})=>s.default`
    <td class="g-menu" style=${{padding:0,boxSizing:"border-box",textAlign:"center",position:"relative",background:o.bgColor,border:`1px ${o.borderColor}`,borderStyle:"solid none solid solid",userSelect:"none",cursor:"pointer"}}
      onclick=${l}
      ontouchstart=${l}
    >
      <svg
        width="24" height="24" fill="#000"
        style=${{verticalAlign:"middle"}}
      >
        <path d="M4 4h4v4H4V4zm0 6h4v4H4v-4zm4 6H4v4h4v-4zm2-12h4v4h-4V4zm4 6h-4v4h4v-4zm-4 6h4v4h-4v-4zM20 4h-4v4h4V4zm-4 6h4v4h-4v-4zm4 6h-4v4h4v-4z"/>
      </svg>
      <table style=${{position:"absolute",width:"100pt",right:0,display:e?"table":"none",bottom:"100%",boxShadow:"0 2px 4px 0 rgba(107,121,136,0.4)",background:"#fff",borderRadius:"3pt",borderCollapse:"collapse",textAlign:"left",paddingLeft:"6pt",cursor:"pointer",lineHeight:"20pt"}}>
        <tr onclick=${[h,"regular"]}
            ontouchstart=${[h,"regular"]}>
          <td>${"regular"===t&&c()}</td> <td>Regular</td>
        </tr>
        <tr onclick=${[h,"log"]}
            ontouchstart=${[h,"log"]}>
          <td>${"log"===t&&c()}</td> <td>Lagorithmic</td>
        </tr>
      </table>
    </td>
    `,subscriptions:e=>(r=e,[]),node:e});return t.addEventListener("click",(e=>u([a,e]))),t.addEventListener("touchstart",(e=>u([a,e]))),{getScale:()=>r.scale,setScale:e=>u([h,e])}}},19:function(e,t,o){t.__esModule=!0;var i=e(8),n=e(29),r=e(28);t.buildCandle=function({theme:e=i.CandleLight,gl:t}){const o=n.buildTheme(e),h=r.buffer(t),c=r.buffer(t),u=r.buffer(t),d=r.program(t,s),f=r.program(t,a),m=r.program(t,l);let g=-1;return{draw:function({viewport:e,y_min_max:t,source:i,yscale:n,zoom:r,origin:s}){const a=o.rgba(),l=i.getRevision();l!==g&&(!function(e,{wick:t,body:o,border:i}){const n=e.getData(),r=o.cpu(18*n.length),s=t.cpu(12*n.length),a=i.cpu(24*n.length);for(let e=0;e<n.length;++e){const{open:t,close:o,high:i,low:l}=n[e],h=t<=o?1:-1,c=e+1;let u=18*e;r[u+0]=r[u+3]=r[u+9]=-c,r[u+6]=r[u+12]=r[u+15]=+c,r[u+1]=r[u+7]=r[u+13]=t,r[u+4]=r[u+10]=r[u+16]=o,r[u+2]=r[u+5]=r[u+8]=h,r[u+11]=r[u+14]=r[u+17]=h,u=12*e,s[u+1]=i,s[u+4]=t>o?t:o,s[u+7]=t<o?t:o,s[u+10]=l,s[u+0]=s[u+3]=s[u+6]=s[u+9]=c,s[u+2]=s[u+5]=s[u+8]=s[u+11]=h,u=24*e,a[u+0]=a[u+15]=a[u+18]=a[u+21]=-c,a[u+3]=a[u+6]=a[u+9]=a[u+12]=+c,a[u+1]=a[u+4]=a[u+7]=a[u+22]=t,a[u+10]=a[u+13]=a[u+16]=a[u+19]=o,a[u+2]=a[u+5]=a[u+8]=a[u+11]=a[u+14]=a[u+17]=h,a[u+20]=a[u+23]=2*h}o.data(r),t.data(s),i.data(a)}(i,{wick:h,body:c,border:u}),g=l),d.render({theme:a.wick,count:h.length()/3,x_origin:s,viewport:e,yscale:n,y_min_max:t,x_zoom:r,buffer:h.gpu}),f.render({theme:{posColor:a.hollow?[0,0,0,0]:a.body.posColor,negColor:a.border.negColor},count:c.length()/3,x_origin:s,viewport:e,yscale:n,y_min_max:t,x_zoom:r,buffer:c.gpu}),m.render({theme:a.border,count:u.length()/3,x_origin:s,viewport:e,yscale:n,y_min_max:t,x_zoom:r,buffer:u.gpu})},get theme(){return o.proxy},set theme(e){o.setTheme(e)}}};const s={count:({count:e})=>e,offset:()=>0,primitive:"lines",viewport:({viewport:e})=>e,attributes:{pos:({buffer:e})=>({buffer:e,size:3,stride:12})},uniforms:{posColor:({theme:e})=>e.posColor,negColor:({theme:e})=>e.negColor,resolution:({viewport:e})=>[e.width,e.height],x_zoom:({x_zoom:e})=>e,x_origin:({x_origin:e})=>e,y_scale:({yscale:e})=>"log"===e?1/Math.log(10):0,y_min_max:({y_min_max:e,yscale:t})=>"log"===t?[Math.log10(e[0]),Math.log10(e[1])]:e},vert:"\n  precision highp float;\n\n  uniform vec4 posColor;\n  uniform vec4 negColor;\n\n  uniform vec2 resolution;\n  uniform vec2 y_min_max;\n  uniform float x_zoom;\n  uniform float x_origin;\n  uniform float y_scale;\n\n  attribute vec3 pos;\n\n  varying vec4 color;\n\n  void main() {\n    color = pos[2] > 0.0 ? posColor : negColor;\n\n    float y = y_scale > 0.0 ? log(pos[1]) * y_scale : pos[1];\n    y = resolution.y * (y - y_min_max[0]) / (y_min_max[1] - y_min_max[0]);\n\n    float x = floor((abs(pos[0]) - 1.0 - x_origin + 0.5) * x_zoom + 0.5);\n    gl_Position = vec4(2.0 * vec2(x, y) / resolution - 1.0, 0., 1.);\n  }",frag:"\n  precision mediump float;\n  varying vec4 color;\n  void main() {\n    gl_FragColor = color;\n  }"},a={count:({count:e})=>e,offset:()=>0,primitive:"triangles",viewport:({viewport:e})=>e,attributes:{pos:({buffer:e})=>({buffer:e,size:3,stride:12})},uniforms:{posColor:({theme:e})=>e.posColor,negColor:({theme:e})=>e.negColor,resolution:({viewport:e})=>[e.width,e.height],x_zoom:({x_zoom:e})=>e,x_origin:({x_origin:e})=>e,y_scale:({yscale:e})=>"log"===e?1/Math.log(10):0,y_min_max:({y_min_max:e,yscale:t})=>"log"===t?[Math.log10(e[0]),Math.log10(e[1])]:e},vert:"\n  precision highp float;\n\n  uniform vec2 resolution;\n  uniform vec2 y_min_max;\n  uniform vec4 posColor;\n  uniform vec4 negColor;\n  uniform float x_zoom;\n  uniform float x_origin;\n  uniform float y_scale;\n\n  attribute vec3 pos;\n\n  varying vec4 color;\n\n  void main() {\n    color = pos[2] > 0.0 ? posColor : negColor;\n\n    float y = y_scale > 0.0 ? log(pos[1]) * y_scale : pos[1];\n    y = resolution.y * (y - y_min_max[0]) / (y_min_max[1] - y_min_max[0]);\n\n    float halved = x_zoom >= 3.0 ? floor((x_zoom - 2.0) / 3.0) + 1.0 : 0.0;\n    float x = floor((abs(pos[0]) - 1.0 - x_origin + 0.5) * x_zoom + 0.5);\n    x += pos[0] > 0.0 ? +halved : -halved - 1.0;\n\n    gl_Position = vec4(\n      2.0 * vec2(x, y) / resolution - 1.0, 0.0, 1.0\n    );\n  }",frag:"\n  precision mediump float;\n  varying vec4 color;\n  void main() {\n    gl_FragColor = color;\n  }"},l={count:({count:e})=>e,offset:()=>0,primitive:"lines",viewport:({viewport:e})=>e,attributes:{pos:({buffer:e})=>({buffer:e,size:3,stride:12})},uniforms:{posColor:({theme:e})=>e.posColor,negColor:({theme:e})=>e.negColor,resolution:({viewport:e})=>[e.width,e.height],x_zoom:({x_zoom:e})=>e,x_origin:({x_origin:e})=>e,y_scale:({yscale:e})=>"log"===e?1/Math.log(10):0,y_min_max:({y_min_max:e,yscale:t})=>"log"===t?[Math.log10(e[0]),Math.log10(e[1])]:e},vert:"\n  precision highp float;\n\n  uniform vec4 posColor;\n  uniform vec4 negColor;\n\n  uniform vec2 resolution;\n  uniform vec2 y_min_max;\n  uniform float x_zoom;\n  uniform float x_origin;\n  uniform float y_scale;\n\n  attribute vec3 pos;\n\n  varying vec4 color;\n\n  void main() {\n    color = pos[2] > 0.0 ? posColor : negColor;\n\n    float y = y_scale > 0.0 ? log(pos[1]) * y_scale : pos[1];\n    y = resolution.y * (y - y_min_max[0]) / (y_min_max[1] - y_min_max[0]);\n\n    float halved = x_zoom >= 3.0 ? floor((x_zoom - 2.0) / 3.0) + 1.0 : 0.0;\n    float x = floor((abs(pos[0]) - 1.0 - x_origin + 0.5) * x_zoom + 0.5);\n    x += pos[0] > 0.0 ? +halved : -halved - (abs(pos[2]) > 1.0 ? 0.0 : 1.0);\n\n    gl_Position = vec4(\n      2.0 * vec2(x, y) / resolution - 1.0, 0.0, 1.0\n    );\n  }",frag:"\n  precision mediump float;\n  varying vec4 color;\n  void main() {\n    gl_FragColor = color;\n  }"}},20:function(e,t,o){t.__esModule=!0;var i=e(8),n=e(29),r=e(28);t.buildVolume=function({theme:e=i.VolumeLight,gl:t}){const o=n.buildTheme(e),a=r.buffer(t);a.data(new Float32Array([0,0,0,1,1,0,0,1,1,0,1,1]));const l=r.buffer(t),h=r.program(t,s);let c=-1,u=0;return{draw:function({viewport:e,source:t,zoom:i,origin:n}){const r=o.rgba(),s=t.getRevision();s!==c&&(u=function(e,t,o){const i=t.getData(),n=o.cpu(2*i.length);let r=0;for(let e=0;e<i.length;++e){const{open:t,close:o,volume:s}=i[e];n[2*e]=t<=o?+e:-e,n[2*e+1]=s,r=r<s?s:r}return o.data(n),r}(0,t,l),c=s);const d=Math.max(0|n,0),f=Math.ceil(d+e.width/i);u=Math.max(...t.getData().slice(d,f).map((e=>e.volume))),window.g={start:d,end:f,v_max:u,x_zoom:i},h.render({theme:r,volume:l.gpu,instances:l.length()/2,x_origin:n,viewport:e,v_max:u,pos:a.gpu,x_zoom:i})},get theme(){return o.proxy},set theme(e){o.setTheme(e)}}};const s={count:()=>6,offset:()=>0,instances:({instances:e})=>e,primitive:"triangles",viewport:({viewport:e})=>e,attributes:{pos:({pos:e})=>({buffer:e,size:2,stride:8}),volume:({volume:e})=>({buffer:e,size:2,stride:8,divisor:1})},uniforms:{posColor:({theme:e})=>e.posColor,negColor:({theme:e})=>e.negColor,resolution:({viewport:e})=>[e.width,e.height],x_zoom:({x_zoom:e})=>e,x_origin:({x_origin:e})=>e,v_max:({v_max:e})=>e},vert:"\n  precision highp float;\n\n  uniform vec2 resolution;\n  uniform vec4 posColor;\n  uniform vec4 negColor;\n  uniform float x_zoom;\n  uniform float x_origin;\n  uniform float v_max;\n\n  attribute vec2 pos;\n  attribute vec2 volume;\n\n  varying vec4 color;\n\n  void main() {\n    color = volume[0] < 0.0 ? negColor : posColor;\n\n    float y = pos[1] * resolution.y * volume[1] / v_max;\n\n    float halved = floor((x_zoom) * 0.5);\n    float x = (abs(volume[0]) + pos[0] - x_origin) * x_zoom;\n\n    x -= x_zoom > 3.0 ? pos[0] : 0.0;\n\n    gl_Position = vec4(\n      2.0 * vec2(x, y) / resolution - 1.0, 0.0, 1.0\n    );\n  }",frag:"\n  precision mediump float;\n  varying vec4 color;\n  void main() {\n    gl_FragColor = color;\n  }"}},21:function(e,t,o){t.__esModule=!0;var i=e(8),n=e(34),r=e(29);const s=window.devicePixelRatio||1;t.LabelLines=class{constructor({timeParser:e}){this.timeParser=e,this.lines=[],this.isDirty=!0}createLine(e=i.LineLabelLight){let t=-1,o=-1;const n=this,s={applyTheme(t){r.merge(e,t)},get theme(){return e},get x(){return t},set x(e){t=e,n.isDirty=!0},get y(){return o},set y(e){o=e,n.isDirty=!0}};return this.lines.push(s),s}drawLine(e,t,o){e.save(),e.strokeStyle=t.theme.line.color;const i=t.theme.line.style;if("dashed"===i&&e.setLineDash([5*s]),"dotted"===i&&e.setLineDash([2*s]),e.beginPath(),t.x>=0){const i=t.x*s+1;e.moveTo(i,0),e.lineTo(i,o.height*s)}if(t.y>=0){const i=t.y*s;e.moveTo(0,i),e.lineTo(o.width*s,i)}e.stroke(),e.restore()}drawXLabel(e,t,o,{origin:i,zoom:r}){e.save();const a=Math.floor(i+t.x/r),l=this.timeParser.labelForIdx(a);if(l){const i=t.theme.label,r=i.fontSize*s;e.font=`${i.fontStyle||""} ${r}px ${i.fontFamily}`,e.textAlign="center";const a=e.measureText(l).width+2*r;e.fillStyle=i.bgColor;const h=t.x*s+1,c=o.height*s+1;n.roundRect(e,h-a/2,c,a,1.8*r,5).fill(),e.fillStyle=i.color,e.fillText(l,h,o.height*s+1.25*r),e.strokeStyle=i.color,e.moveTo(h,c),e.lineTo(h,c+r/3),e.stroke()}e.restore()}drawYLabel(e,t,o,[i,r]){e.save();const a=t.theme.label,l=a.fontSize*s,h=o.height;e.fillStyle=a.bgColor;const c=o.width*s;n.roundRect(e,c,t.y*s-l,e.canvas.width-c-l/2,2*l,5).fill(),e.fillStyle=a.color;let u=(h-t.y)/h*(r-i)+i;e.font=`${a.fontStyle||""} ${l}px ${a.fontFamily}`,e.textAlign="left",e.fillText(u.toFixed(2),c+l,t.y*s+l/3),e.strokeStyle=a.color,e.moveTo(c,t.y*s),e.lineTo(c+l/3,t.y*s),e.stroke(),e.restore()}draw({ctx:e,viewport:t,aperture:o,y_min_max:i}){this.lines.filter((e=>e.x>=0||e.y>=0)).forEach((n=>{n.x>=0&&this.drawXLabel(e,n,t,o),n.y>=0&&this.drawYLabel(e,n,t,i),this.drawLine(e,n,t)})),this.isDirty=!1}dirty(){return this.isDirty}}},22:function(e,t,o){t.__esModule=!0;var i=e(25);t.Overlay=class{constructor({canvas:e}){this.canvas=e,this.parent=e.parentElement,this.canvas.style.cssText+="display: block; position: absolute; background: transparent;",this.ctx=e.getContext("2d"),this.ctx.imageSmoothingEnabled=!1,this.destroy=i.resizeObserve(this.parent,(()=>this.resize()))}resize(){const e=window.devicePixelRatio,t=this.parent.getBoundingClientRect(),o=Math.floor(t.width),i=Math.floor(t.height);this.canvas.style.width=`${o}px`,this.canvas.style.height=`${i}px`,this.canvas.width=o*e,this.canvas.height=i*e}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}}},23:function(e,t,o){const i=["pop","push","concat","reverse","shift","sort","splice","unshift"];function n(e,t){for(let o in t)"object"==typeof t[o]&&t[o]?(e[o]=e[o]||{},n(e[o],t[o])):e[o]=t[o]}t.proxyArray=function(e,t){return new Proxy(e,{get(e,o,n){i.includes(o)&&t();return Reflect.get(e,o,n)},set:(e,o,i,n)=>("number"==typeof o&&t(),Reflect.set(e,o,i,n))})},t.withRevision=function(e){const t=Object.assign({},e,{revision:-1}),o={get:(e,t)=>"object"==typeof e[t]&&null!==e[t]?new Proxy(e[t],o):e[t],set(e,o,i){n(e,{[o]:i}),t.revision+=1}};return new Proxy(t,o)},t.merge=n},25:function(e,t,o){t.resizeObserve=function(e,t){let o;return e!==document.body&&"function"==typeof ResizeObserver?(o=new ResizeObserver((function(){setTimeout(t)})),o.observe(e)):window.addEventListener("resize",t,!1),()=>{o?o.disconnect():window.removeEventListener("resize",t)}}},28:function(e,t,o){t.program=function(e,{frag:t,vert:o,blend:i,attributes:r,uniforms:s,textures:a,primitive:l,offset:h,count:c,instances:u,viewport:d}){let f=null;const m=n(e,e.VERTEX_SHADER,o),g=n(e,e.FRAGMENT_SHADER,t),p=function(e,t,o){const i=e.createProgram();if(!i)return 0;e.attachShader(i,t),e.attachShader(i,o),e.linkProgram(i);if(!e.getProgramParameter(i,e.LINK_STATUS)){const t=e.getProgramInfoLog(i);return console.error(t),e.deleteProgram(i),0}return e.deleteShader(t),e.deleteShader(o),i}(e,m,g),v=e[l.replace(" ","_").toUpperCase()];e.deleteShader(m),e.deleteShader(g);const _=e.getExtension("OES_vertex_array_object"),y=e.getExtension("ANGLE_instanced_arrays"),x={},w={};function b(t){const o=e.getUniformLocation(p,t);if(null===o||-1===o)throw new Error(`${t} uniform not found`);x[t]=o}for(let e in s)b(e);if(a)for(let e in a)b(e);return{render:function(t){const o=c(t);if(!o)return;const n=h(t);if(e.useProgram(p),function(t){if(f)_.bindVertexArrayOES(f);else{f=_.createVertexArrayOES(),_.bindVertexArrayOES(f);for(let o in r){const i=r[o](t),n=e.getAttribLocation(p,o);if(w[o]=n,-1===n)throw new Error(`${o} attribute not found`);e.bindBuffer(e.ARRAY_BUFFER,i.buffer);const s=i.size||1,a=i.stride||4*s,l=i.offset||0,h=i.divisor||0;e.enableVertexAttribArray(n),h&&y.vertexAttribDivisorANGLE(n,h),e.vertexAttribPointer(n,s,e.FLOAT,!1,a,l)}}}(t),function(t){if(a)for(let o in a){const i=x[o],n=a[o](t);e.activeTexture(n.textureId),e.bindTexture(e.TEXTURE_2D,n.id),e.uniform1i(i,n.unit)}}(t),function(t){for(let o in s){const i=s[o](t);if(null!==i){const t=x[o];"number"==typeof i?e.uniform1f(t,i):1===i.length?e.uniform1fv(t,i):2==i.length?e.uniform2fv(t,i):3===i.length?e.uniform3fv(t,i):4===i.length?e.uniform4fv(t,i):console.error(">",o,i)}}}(t),d){const o=d(t);e.viewport(o.x,o.y,o.width,o.height)}i&&(e.enable(e.BLEND),e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,1,1),e.blendColor(0,0,0,0)),u?y.drawArraysInstancedANGLE(v,n,o,u(t)):e.drawArrays(v,n,o),i&&e.disable(e.BLEND),_.bindVertexArrayOES(null)}}},t.texture=function(e,{data:t}){const o=i++,n=e[`TEXTURE${o}`],r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.generateMipmap(e.TEXTURE_2D),{id:r,unit:o,textureId:n}};let i=0;function n(e,t,o){const i=e.createShader(t);if(!i)return 0;e.shaderSource(i,o),e.compileShader(i);if(!e.getShaderParameter(i,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(i);throw new Error(t||"shader failed")}return i}t.buffer=function(e,t=e.DYNAMIC_DRAW){const o=e.createBuffer();let i=new Float32Array(0);return{gpu:o,data:function(n){i=n,e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,i.buffer,t)},subdata:function(t,i){e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferSubData(e.ARRAY_BUFFER,4*i,t)},destroy:function(){e.deleteBuffer(o)},length:()=>i.length,cpu:e=>(i.length<e&&(i=new Float32Array(e)),i)}}},29:function(e,t,o){function i(e){for(let t in e)"object"==typeof e[t]&&null!==e[t]?i(e[t]):(t.endsWith("Color")||t.endsWith("color"))&&(e[t]=r(e[t]))}function n(e,t){for(let o in t)"object"==typeof t[o]&&t[o]?(e[o]=e[o]||{},n(e[o],t[o])):e[o]=t[o]}t.__esModule=!0,t.buildTheme=function(e){let o={},r={};function s(e){n(o,e),r=t.clone(o),i(r)}s(e);const a={get:(e,t)=>"object"==typeof e[t]&&null!==e[t]?new Proxy(e[t],a):e[t],set(e,s,a){n(e,{[s]:a}),r=t.clone(o),i(r)}};return{rgba:()=>r,getBackup:()=>o,setTheme:s,proxy:new Proxy(o,a)}},t.merge=n,t.clone=e=>JSON.parse(JSON.stringify(e));const r=function(){const e=document.createElement("canvas");e.height=1,e.width=1;const t=e.getContext("2d"),o={};return function(e){if(o[e])return o[e];if(!e)return[0,0,0,1];t.fillStyle=e,t.fillRect(0,0,1,1);const i=t.getImageData(0,0,1,1).data;return o[e]=[...i].map((e=>e/255))}}()},31:function(e,t,o){t.EventSource=class{constructor(){this.listeners={}}on(e,t){return this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t),()=>{this.listeners[e]=this.listeners[e].filter((e=>e!==t))}}dispatch(e,t){const o=this.listeners[e];o&&o.forEach((e=>e(t)))}}},34:function(e,t,o){t.__esModule=!0,t.roundRect=function(e,t,o,i,n,r){return i<2*r&&(r=i/2),n<2*r&&(r=n/2),e.beginPath(),e.moveTo(t+r,o),e.arcTo(t+i,o,t+i,o+n,r),e.arcTo(t+i,o+n,t,o+n,r),e.arcTo(t,o+n,t,o,r),e.arcTo(t,o,t+i,o,r),e.closePath(),e}}});